{"ast":null,"code":"import _slicedToArray from\"/Users/alexandersuarez/code/weather-data/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import ReactMapGL from\"react-map-gl\";import API from\"../utils/API\";import SearchBar from\"../components/Searchbar\";import MarkerWeatherDetail from\"../components/Card\";import MapMarkerImage from\"../components/MapMarkerImage\";import NavbarComponent from'../components/NavbarComponent';function Home(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),markerCount=_useState2[0],setMarkerCount=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedMarker=_useState4[0],setSelectedMarker=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),searchField=_useState6[0],setSearchField=_useState6[1];var _useState7=useState({latitude:35.5501,// needs to be dynamic\nlongitude:-80.7821,// dynamic\nzoom:1,width:'100vw',height:'60vh'}),_useState8=_slicedToArray(_useState7,2),viewport=_useState8[0],setViewPort=_useState8[1];function handleInputChange(e){var value=e.target.value;setSearchField(value);}function weatherSearch(){API.searchWeather(50,30,searchField).then(function(res){setMarkerCount(res.data.list);});setSearchField('');}function handleFormSubmit(e){e.preventDefault();var value=e.target.value;console.log('value',value);setSearchField(value);weatherSearch();}function onMarkerSelect(marker){setSelectedMarker(marker);}return React.createElement(\"div\",null,React.createElement(NavbarComponent,{handleInputChange:handleInputChange,handleFormSubmit:handleFormSubmit,searchField:searchField}),React.createElement(ReactMapGL,Object.assign({},viewport,{mapStyle:\"mapbox://styles/suarez9093/ck773vm2e08i91iqi1m48zfss\",mapboxApiAccessToken:process.env.REACT_APP_MAPBOX_API_KEY,onViewportChange:setViewPort}),React.createElement(MapMarkerImage,{onMarkerSelect:onMarkerSelect,markerCount:markerCount})),React.createElement(MarkerWeatherDetail,{selectedMarker:selectedMarker}));};export default Home;","map":{"version":3,"sources":["/Users/alexandersuarez/code/weather-data/src/pages/Home.js"],"names":["React","useState","ReactMapGL","API","SearchBar","MarkerWeatherDetail","MapMarkerImage","NavbarComponent","Home","markerCount","setMarkerCount","selectedMarker","setSelectedMarker","searchField","setSearchField","latitude","longitude","zoom","width","height","viewport","setViewPort","handleInputChange","e","value","target","weatherSearch","searchWeather","then","res","data","list","handleFormSubmit","preventDefault","console","log","onMarkerSelect","marker","process","env","REACT_APP_MAPBOX_API_KEY"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,oBAAhC,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CAGA,QAASC,CAAAA,IAAT,EAAgB,eACwBP,QAAQ,EADhC,wCACPQ,WADO,eACMC,cADN,8BAE8BT,QAAQ,EAFtC,yCAEPU,cAFO,eAESC,iBAFT,8BAGwBX,QAAQ,EAHhC,yCAGPY,WAHO,eAGMC,cAHN,8BAIkBb,QAAQ,CAAC,CACvCc,QAAQ,CAAE,OAD6B,CACpB;AACnBC,SAAS,CAAE,CAAC,OAF2B,CAElB;AACrBC,IAAI,CAAE,CAHiC,CAIvCC,KAAK,CAAE,OAJgC,CAKvCC,MAAM,CAAE,MAL+B,CAAD,CAJ1B,yCAIPC,QAJO,eAIGC,WAJH,eAYd,QAASC,CAAAA,iBAAT,CAA2BC,CAA3B,CAA8B,IACpBC,CAAAA,KADoB,CACVD,CAAC,CAACE,MADQ,CACpBD,KADoB,CAE5BV,cAAc,CAACU,KAAD,CAAd,CACD,CAED,QAASE,CAAAA,aAAT,EAAyB,CACvBvB,GAAG,CAACwB,aAAJ,CAAkB,EAAlB,CAAsB,EAAtB,CAA0Bd,WAA1B,EACGe,IADH,CACQ,SAAAC,GAAG,CAAI,CACXnB,cAAc,CAACmB,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAd,CACD,CAHH,EAIAjB,cAAc,CAAC,EAAD,CAAd,CACD,CAED,QAASkB,CAAAA,gBAAT,CAA0BT,CAA1B,CAA6B,CAC3BA,CAAC,CAACU,cAAF,GAD2B,GAEnBT,CAAAA,KAFmB,CAETD,CAAC,CAACE,MAFO,CAEnBD,KAFmB,CAG3BU,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBX,KAArB,EACAV,cAAc,CAACU,KAAD,CAAd,CACAE,aAAa,GACd,CAED,QAASU,CAAAA,cAAT,CAAwBC,MAAxB,CAAgC,CAC9BzB,iBAAiB,CAACyB,MAAD,CAAjB,CACD,CAED,MACE,gCACH,oBAAC,eAAD,EACA,iBAAiB,CAAEf,iBADnB,CAEA,gBAAgB,CAAEU,gBAFlB,CAGA,WAAW,CAAEnB,WAHb,EADG,CAME,oBAAC,UAAD,kBACMO,QADN,EAEE,QAAQ,CAAE,sDAFZ,CAGE,oBAAoB,CAAEkB,OAAO,CAACC,GAAR,CAAYC,wBAHpC,CAIE,gBAAgB,CAAEnB,WAJpB,GAME,oBAAC,cAAD,EACE,cAAc,CAAEe,cADlB,CAEE,WAAW,CAAE3B,WAFf,EANF,CANF,CAuBE,oBAAC,mBAAD,EAAqB,cAAc,CAAEE,cAArC,EAvBF,CADF,CA2BD,EAED,cAAeH,CAAAA,IAAf","sourcesContent":["import React, { useState } from 'react';\nimport ReactMapGL from \"react-map-gl\"\nimport API from \"../utils/API\"\nimport SearchBar from \"../components/Searchbar\"\nimport MarkerWeatherDetail from \"../components/Card\"\nimport MapMarkerImage from \"../components/MapMarkerImage\"\nimport NavbarComponent from '../components/NavbarComponent'\n\n\nfunction Home() {\n  const [markerCount, setMarkerCount] = useState()\n  const [selectedMarker, setSelectedMarker] = useState()\n  const [searchField, setSearchField] = useState()\n  const [viewport, setViewPort] = useState({\n    latitude: 35.5501, // needs to be dynamic\n    longitude: -80.7821, // dynamic\n    zoom: 1,\n    width: '100vw',\n    height: '60vh'\n  })\n\n  function handleInputChange(e) {\n    const { value } = e.target\n    setSearchField(value)\n  }\n\n  function weatherSearch() {\n    API.searchWeather(50, 30, searchField)\n      .then(res => {\n        setMarkerCount(res.data.list)\n      })\n    setSearchField('')\n  }\n\n  function handleFormSubmit(e) {\n    e.preventDefault()\n    const { value } = e.target\n    console.log('value', value)\n    setSearchField(value)\n    weatherSearch()\n  }\n\n  function onMarkerSelect(marker) {\n    setSelectedMarker(marker)\n  }\n\n  return (\n    <div>\n <NavbarComponent \n handleInputChange={handleInputChange}\n handleFormSubmit={handleFormSubmit}\n searchField={searchField}\n />\n      <ReactMapGL\n        {...viewport}\n        mapStyle={\"mapbox://styles/suarez9093/ck773vm2e08i91iqi1m48zfss\"}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_API_KEY}\n        onViewportChange={setViewPort}\n      >\n        <MapMarkerImage\n          onMarkerSelect={onMarkerSelect}\n          markerCount={markerCount}\n        />\n      </ReactMapGL>\n      {/* <SearchBar\n        handleFormSubmit={handleFormSubmit}\n        handleInputChange={handleInputChange}\n        searchField={searchField}\n      /> */}\n    \n      <MarkerWeatherDetail selectedMarker={selectedMarker} />\n    </div>\n  )\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}