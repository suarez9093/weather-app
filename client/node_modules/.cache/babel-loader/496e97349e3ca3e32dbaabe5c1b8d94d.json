{"ast":null,"code":"import _slicedToArray from\"/Users/alexandersuarez/code/weather-data/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import API from'../utils/API';import{Card,CardText,CardBody,Button}from'reactstrap';import NavbarComponent from'../components/NavbarComponent';function SavedWeatherPoints(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),savedWeather=_useState2[0],setSavedWeather=_useState2[1];// on first render load run the loadWeather function\nuseEffect(function(){// loadWeather()\nAPI.getAllWeather().then(function(res){console.log('res: ',res);setSavedWeather(res.data);}).catch(function(err){return console.log(err);});},[]);console.log('savedWeather: ',savedWeather);// Makes a call to axios to get all the weather that was saved and save to savedWeather state.\nfunction loadWeather(){}//  API.getAllWeather()\n//     .then(res => {\n//         console.log('res: ',res)\n//         setSavedWeather(res.data)\n//     })\n// make an axios call to delete a weather point\nfunction handleDeleteWeather(id){API.deleteWeather(id).then(function(res){loadWeather();});alert('Deleted!');};return React.createElement(\"div\",null,React.createElement(NavbarComponent,null),!savedWeather?React.createElement(\"h1\",null,\"No saved Results\"):// otherwise the component will map over all the savedWeather saved in state and for everyone in the array it will generate a Card with the following information\nsavedWeather.map(function(weather){return React.createElement(Card,{key:weather._id},React.createElement(CardBody,null,React.createElement(CardText,null,React.createElement(\"strong\",null,\"Country:\"),\" \",weather.country),React.createElement(CardText,null,React.createElement(\"strong\",null,\"City:\"),\" \",weather.city),React.createElement(CardText,null,React.createElement(\"strong\",null,\"Temp:\"),\" \",((weather.temp-273.15)*1.8+32).toFixed(2),\"\\xB0\"),React.createElement(CardText,null,React.createElement(\"strong\",null,\"Feels Like:\"),\" \",((weather.feelsLike-273.15)*1.8+32).toFixed(2),\"\\xB0\"),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Button,{className:\"btn-width\",color:\"danger\",onClick:function onClick(){return handleDeleteWeather(weather._id);}},\"Delete this weather point\")));}));}export default SavedWeatherPoints;","map":{"version":3,"sources":["/Users/alexandersuarez/code/weather-data/client/src/pages/SavedWeatherPoints.js"],"names":["React","useState","useEffect","API","Card","CardText","CardBody","Button","NavbarComponent","SavedWeatherPoints","savedWeather","setSavedWeather","getAllWeather","then","res","console","log","data","catch","err","loadWeather","handleDeleteWeather","id","deleteWeather","alert","map","weather","_id","country","city","temp","toFixed","feelsLike"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,OAASC,IAAT,CAAeC,QAAf,CAAyBC,QAAzB,CAAmCC,MAAnC,KAAiD,YAAjD,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CAEA,QAASC,CAAAA,kBAAT,EAA8B,eACcR,QAAQ,EADtB,wCACnBS,YADmB,eACLC,eADK,eAG1B;AACAT,SAAS,CAAC,UAAM,CACZ;AACAC,GAAG,CAACS,aAAJ,GACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAoBF,GAApB,EACAH,eAAe,CAACG,GAAG,CAACG,IAAL,CAAf,CACH,CAJD,EAKCC,KALD,CAKO,SAAAC,GAAG,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAAJ,EALV,EAMH,CARQ,CAQN,EARM,CAAT,CASAJ,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BN,YAA9B,EAEA;AACC,QAASU,CAAAA,WAAT,EAAuB,CAMvB,CALG;AACA;AACA;AACA;AACA;AAGJ;AACA,QAASC,CAAAA,mBAAT,CAA6BC,EAA7B,CAAiC,CAC7BnB,GAAG,CAACoB,aAAJ,CAAkBD,EAAlB,EAAsBT,IAAtB,CAA2B,SAAAC,GAAG,CAAI,CAC9BM,WAAW,GACd,CAFD,EAGAI,KAAK,CAAC,UAAD,CAAL,CACH,EAED,MACI,gCACI,oBAAC,eAAD,MADJ,CAGK,CAACd,YAAD,CAAgB,iDAAhB,CACD;AACIA,YAAY,CAACe,GAAb,CAAiB,SAAAC,OAAO,QACpB,qBAAC,IAAD,EAAM,GAAG,CAAEA,OAAO,CAACC,GAAnB,EACI,oBAAC,QAAD,MACI,oBAAC,QAAD,MAAU,6CAAV,KAAqCD,OAAO,CAACE,OAA7C,CADJ,CAEI,oBAAC,QAAD,MAAU,0CAAV,KAAkCF,OAAO,CAACG,IAA1C,CAFJ,CAII,oBAAC,QAAD,MAAU,0CAAV,KAAkC,CAAE,CAACH,OAAO,CAACI,IAAR,CAAe,MAAhB,EAA0B,GAA3B,CAAkC,EAAnC,EAAuCC,OAAvC,CAA+C,CAA/C,CAAlC,QAJJ,CAKI,oBAAC,QAAD,MAAU,gDAAV,KAAwC,CAAE,CAACL,OAAO,CAACM,SAAR,CAAoB,MAArB,EAA+B,GAAhC,CAAuC,EAAxC,EAA4CD,OAA5C,CAAoD,CAApD,CAAxC,QALJ,CAMI,8BANJ,CAOI,8BAPJ,CAQI,oBAAC,MAAD,EAAQ,SAAS,CAAC,WAAlB,CAA8B,KAAK,CAAC,QAApC,CAA6C,OAAO,CAAE,yBAAMV,CAAAA,mBAAmB,CAACK,OAAO,CAACC,GAAT,CAAzB,EAAtD,8BARJ,CADJ,CADoB,EAAxB,CALR,CADJ,CAsBH,CACD,cAAelB,CAAAA,kBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API from '../utils/API';\nimport { Card, CardText, CardBody, Button } from 'reactstrap';\nimport NavbarComponent from '../components/NavbarComponent';\n\nfunction SavedWeatherPoints() {\n    const [savedWeather, setSavedWeather] = useState()\n\n    // on first render load run the loadWeather function\n    useEffect(() => {\n        // loadWeather()\n        API.getAllWeather()\n        .then(res => {\n            console.log('res: ',res)\n            setSavedWeather(res.data)\n        })\n        .catch(err => console.log(err))\n    }, [])\n    console.log('savedWeather: ', savedWeather)\n\n    // Makes a call to axios to get all the weather that was saved and save to savedWeather state.\n     function loadWeather() {\n        //  API.getAllWeather()\n        //     .then(res => {\n        //         console.log('res: ',res)\n        //         setSavedWeather(res.data)\n        //     })\n    }\n\n    // make an axios call to delete a weather point\n    function handleDeleteWeather(id) {\n        API.deleteWeather(id).then(res => {\n            loadWeather();\n        })\n        alert('Deleted!')\n    };\n\n    return (\n        <div>\n            <NavbarComponent />\n            {/* If there is no weather points saved in state then component will render this h1 tag */}\n            {!savedWeather ? <h1>No saved Results</h1> :\n            // otherwise the component will map over all the savedWeather saved in state and for everyone in the array it will generate a Card with the following information\n                savedWeather.map(weather => (\n                    <Card key={weather._id}>\n                        <CardBody>\n                            <CardText><strong>Country:</strong> {weather.country}</CardText>\n                            <CardText><strong>City:</strong> {weather.city}</CardText>\n                            {/* Converts to farenheight */}\n                            <CardText><strong>Temp:</strong> {(((weather.temp - 273.15) * 1.8) + 32).toFixed(2)}°</CardText>\n                            <CardText><strong>Feels Like:</strong> {(((weather.feelsLike - 273.15) * 1.8) + 32).toFixed(2)}°</CardText>\n                            <br />\n                            <br />\n                            <Button className=\"btn-width\" color=\"danger\" onClick={() => handleDeleteWeather(weather._id)}>Delete this weather point</Button>\n                        </CardBody>\n                    </Card>\n                ))}\n        </div>\n    )\n}\nexport default SavedWeatherPoints"]},"metadata":{},"sourceType":"module"}